{
  "apiRequestCreateJobTemplate": {
    "application/json": {
      "operation": "create",
      "payload": {
        "TableName": "jobs",
        "Item": {
          "company_name": "$input.path('$').companyName",
          "job_name": "$input.path('$').jobName",
          "e04_job_no": "$input.path('$').jobNo"
        }
      }
    }
  },
  "apiRequestReadJobTemplate": {
    "application/json": {
      "operation": "read",
      "payload": {
        "TableName": "jobs",
        "IndexName": "company_name-job_name-index",
        "KeyConditionExpression": "company_name = :company_name and  job_name = :job_name",
        "ExpressionAttributeValues": {
          ":company_name": "$input.params().header.get('x-Company-Name')",
          ":job_name": "$input.params().header.get('x-Job-Name')"
        },
        "Limit": 1
      },
      "e04payload": {
        "TableName": "jobs",
        "IndexName": "e04_job_no-index",
        "KeyConditionExpression": "e04_job_no = :e04_job_no",
        "ExpressionAttributeValues": {
          ":e04_job_no": "$input.params().header.get('x-E04-Job-No')"
        },
        "Limit": 1
      }
    }
  },
  "apiResponseReadJobTemplate": {
    "application/json": {
      "jobs": "$input.path('$').Items"
    }
  }
}