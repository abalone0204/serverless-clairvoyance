{
  "apiRequestCreateJobTemplate": {
    "application/json": {
      "operation": "create",
      "payload": {
        "TableName": "jobs",
        "Item": {
          "company_name": "$input.path('$').payload.Item.company_name",
          "job_name": "$input.path('$').payload.Item.job_name"
        }
      }
    }
  },
  "apiRequestReadJobTemplate": {
    "application/json": {
      "operation": "read",
      "payload": {
        "TableName": "jobs",
        "IndexName": "company_name-job_name-index",
        "KeyConditionExpression": "company_name = :company_name and  job_name = :job_name",
        "ExpressionAttributeValues": {
          ":company_name": "$input.params().header.get('x-Company-Name')",
          ":job_name": "$input.params().header.get('x-Job-Name')"
        },
        "Limit": 1
      }
    }
  },
  "apiResponseReadJobTemplate": {
    "application/json": {
      "jobs": "$input.path('$').Items"
    }
  }
}